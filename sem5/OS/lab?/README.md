# Програма-менеджер (Mn) для обчислень (fn1 та fn2).

## Опис завдання
Реалізація системи для розподіленого та паралельного обчислення функції `y = f(x) * g(x)`. 
Програма розбиває завдання на підзадачі, які виконуються в **окремих процесах** операційної системи, що забезпечує їх ізольованість та незалежність.

### Математична логіка
Програма виконує розподілене обчислення добутку двох квадратичних функцій:
$$y = f(x) \times g(x)$$

Використано нелінійні функції з чітко визначеними нулями для демонстрації механізму **Hard Stop**:

* **Функція 1 (f):** $$f(x) = x^2$$
  * *Нуль функції:* при $x = 0$.
  * *Затримка (імітація):* 2 секунди.
* **Функція 2 (g):** $$g(x) = (x - 10)^2$$
  * *Нуль функції:* при $x = 10$.
  * *Затримка (імітація):* 4 секунди.

---

## Обраний варіант
* **Мова:** Java
* **Тип компонентів:** Процеси (Java `ProcessBuilder`)
* **Механізм комунікації:** TCP Сокети (звичайні `ServerSocket` та `Socket`)
* **Спосіб обробки та синхронізації:** Асинхронна модель (`CompletableFuture`) з неблокуючим очікуванням.

---

## Архітектура

Система побудована за архітектурою "Клієнт-Сервер" (Менеджер — клієнт, Воркери — сервери обчислень).

### 1. Manager (`Manager.java`)
Головний керуючий процес.
* **Інтерактивність:** Запитує ціле число `x` у користувача.
* **Асинхронність:** Запускає воркерів паралельно.
* **Моніторинг:** Використовує цикл з інтервалом 200 мс для перевірки стану та введення користувача.
* **Logic:** Реалізує механізми Soft Stop та Hard Stop.

### 2. Worker (`Worker.java`)
Універсальний виконавець (**DRY**).
* Приймає ID функції (1 або 2) та аргумент `x` через аргументи командного рядка.
* Повертає результат `Double` через серіалізацію об'єктів.

---

## Use Cases (Реалізовані сценарії)

### 1. Happy Path (Успішне обчислення)
Всі процеси завершуються успішно. Менеджер отримує два числа з обчислення функцій, перемножує їх і виводить результат.
* *Приклад:* Ввід `5` -> $25 \times 25 = 625$.

### 2. Soft Stop (Скасування користувачем)
Користувач може перервати обчислення в будь-який момент, натиснувши комбінацію `q` та `Enter`.
* Програма коректно завершує ("вбиває") дочірні процеси.

### 3. Hard Stop (Оптимізація нульового результату)
Критична оптимізація для операції множення. Якщо одна з функцій повертає `0.0`, Менеджер розуміє, що фінальний результат буде `0`. Він **миттєво скасовує** інший процес, економлячи час та ресурси CPU.

### 4. Timeout (Захист від зависання)
Якщо обчислення триває довше **10 секунд**, Менеджер автоматично припиняє роботу.

---

## Запуск програми

### Компіляція
Потребує Java JDK. Через термінал:

```bash
javac Manager.java Worker.java
```

### Запуск

```bash
java Manager
```